import React, { useState } from "react";

const LinkCopy = ({ link }: { link: string }) => {
  const [copied, setCopied] = useState(false);

  const copyLink = () => {
    navigator.clipboard.writeText(link);
    setCopied(true);
    setTimeout(() => {
      setCopied(false);
    }, 2000);
  };

  return (
    <>
      <button onClick={copyLink} className="">
        {copied ? (
          <svg
            width="20"
            height="20"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_3043_132573)">
              <path
                d="M6.66699 8.66697C6.95329 9.04972 7.31856 9.36642 7.73803 9.5956C8.15749 9.82477 8.62133 9.96105 9.09809 9.99519C9.57485 10.0293 10.0534 9.96055 10.5012 9.79349C10.9491 9.62643 11.3557 9.36502 11.6937 9.02697L13.6937 7.02697C14.3009 6.3983 14.6368 5.55629 14.6292 4.6823C14.6216 3.80831 14.2711 2.97227 13.6531 2.35424C13.035 1.73621 12.199 1.38565 11.325 1.37806C10.451 1.37046 9.609 1.70644 8.98033 2.31364L7.83366 3.45364"
                stroke="#23E6A7"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M9.33444 7.33381C9.04814 6.95106 8.68287 6.63435 8.26341 6.40518C7.84395 6.17601 7.3801 6.03973 6.90334 6.00559C6.42658 5.97144 5.94805 6.04023 5.50021 6.20729C5.05237 6.37435 4.6457 6.63576 4.30778 6.97381L2.30778 8.97381C1.70058 9.60248 1.3646 10.4445 1.3722 11.3185C1.37979 12.1925 1.73035 13.0285 2.34838 13.6465C2.96641 14.2646 3.80245 14.6151 4.67644 14.6227C5.55043 14.6303 6.39244 14.2943 7.02111 13.6871L8.16111 12.5471"
                stroke="#23E6A7"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M5.66667 1L2.45833 4.20833L1 2.75"
                stroke="#23E6A7"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </g>
            <defs>
              <clipPath id="clip0_3043_132573">
                <rect width="16" height="16" fill="white" />
              </clipPath>
            </defs>
          </svg>
        ) : (
          <svg
            width="20"
            height="20"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_3043_132576)">
              <path
                d="M6.66699 8.66697C6.95329 9.04972 7.31856 9.36642 7.73803 9.5956C8.15749 9.82477 8.62133 9.96105 9.09809 9.99519C9.57485 10.0293 10.0534 9.96055 10.5012 9.79349C10.9491 9.62643 11.3557 9.36502 11.6937 9.02697L13.6937 7.02697C14.3009 6.3983 14.6368 5.55629 14.6292 4.6823C14.6216 3.80831 14.2711 2.97227 13.6531 2.35424C13.035 1.73621 12.199 1.38565 11.325 1.37806C10.451 1.37046 9.609 1.70644 8.98033 2.31364L7.83366 3.45364"
                stroke="#71717A"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M9.33444 7.33381C9.04814 6.95106 8.68287 6.63435 8.26341 6.40518C7.84395 6.17601 7.3801 6.03973 6.90334 6.00559C6.42658 5.97144 5.94805 6.04023 5.50021 6.20729C5.05237 6.37435 4.6457 6.63576 4.30778 6.97381L2.30778 8.97381C1.70058 9.60248 1.3646 10.4445 1.3722 11.3185C1.37979 12.1925 1.73035 13.0285 2.34838 13.6465C2.96641 14.2646 3.80245 14.6151 4.67644 14.6227C5.55043 14.6303 6.39244 14.2943 7.02111 13.6871L8.16111 12.5471"
                stroke="#71717A"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </g>
            <defs>
              <clipPath id="clip0_3043_132576">
                <rect width="16" height="16" fill="white" />
              </clipPath>
            </defs>
          </svg>
        )}
      </button>
    </>
  );
};

export default LinkCopy;
